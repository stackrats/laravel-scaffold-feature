<?php

declare(strict_types = 1);

namespace {{NAMESPACE}};

use App\{{FULL_NAMESPACE}}\Actions\{{FEATURE_NAME}}Action;
use App\{{FULL_NAMESPACE}}\Data\{{FEATURE_NAME}}ActionDto;
use App\Models\UserAffiliations\Branch;
use App\Models\UserAffiliations\UserAffiliation;
use Tests\Support\HasFakeSessionUserAffiliation;
use PHPUnit\Framework\Attributes\Group;
use Tests\TestCase;

#[Group('refactor')]
class {{CLASS_NAME}} extends TestCase
{
    use HasFakeSessionUserAffiliation;

    protected ${{FEATURE_NAME_LCFIRST}}Action;

    protected function setUp(): void
    {
        parent::setUp();

        $this->{{FEATURE_NAME_LCFIRST}}Action = app({{FEATURE_NAME}}Action::class);
    }

    public function test_it_works_correctly()
    {
        $branch = Branch::factory()->create();
        $userAffiliation = UserAffiliation::factory()->create();
        $permissionEnums = [
            // Permissions::CREATE_
        ];
        $this->actAsUserWithSessionUserAffiliation($userAffiliation, $branch, $permissionEnums);

        $dto = new {{FEATURE_NAME}}ActionDto(
            id: 'test-id'
        );
        $this->{{FEATURE_NAME_LCFIRST}}Action->handle($dto);

        $this->assertTrue(false);
    }
}